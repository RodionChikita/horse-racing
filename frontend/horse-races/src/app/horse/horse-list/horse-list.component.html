<dx-data-grid
        [dataSource]="horses"
        [showBorders]="true"
        [allowColumnResizing]="true"
        [columnAutoWidth]="true"
        (onRowInserting)="addHorse($event)"
        (onRowUpdating)="updateHorse($event)"
        (onRowRemoving)="deleteHorse($event)"
>
    <dxo-editing
            mode="popup"
            [allowUpdating]="true"
            [allowAdding]="true"
            [allowDeleting]="true"
            [useIcons]="true"
    >
        <dxo-popup
                title="Horse Info"
                [showTitle]="true"
                [width]="700"
                [height]="525"
        ></dxo-popup>

        <form [formGroup]="horseForm">
            <div>
                <label for="nickname">Nickname</label>
                <input id="nickname" formControlName="nickname" />
            </div>

            <div>
                <label for="gender">Gender</label>
                <select id="gender" formControlName="genderEnum">
                    <option value="MALE">Male</option>
                    <option value="FEMALE">Female</option>
                </select>
            </div>

            <div>
                <label for="age">Age</label>
                <input type="number" id="age" formControlName="age" />
            </div>

            <div>
                <label for="ownerId">Owner</label>
                <select id="ownerId" formControlName="ownerId">
                    <option *ngFor="let owner of owners" [value]="owner.id">{{ owner.name }}</option>
                </select>
            </div>

            <button type="button" (click)="saveHorse()">Save</button>
        </form>
    </dxo-editing>

    <dxi-column dataField="nickname" caption="Nickname"></dxi-column>
    <dxi-column dataField="genderEnum" caption="Gender"></dxi-column>
    <dxi-column dataField="age" caption="Age" dataType="number"></dxi-column>
    <dxi-column dataField="owner.name" caption="Owner"></dxi-column>
</dx-data-grid>

